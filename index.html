<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>分帳小工具</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>分帳小工具</h1>

        <!-- Top Toolbar: 全域操作與狀態顯示 -->
        <div id="top-toolbar" class="toolbar" role="region" aria-label="全域操作工具列">
            <span id="csv-status" class="status status-loading" aria-live="polite">資料載入中…</span>
            <div class="toolbar-spacer"></div>
            <button id="calculate-button-top">計算分帳</button>
            <button id="reset-button" class="secondary">重設</button>
        </div>

        <div class="main-layout">
            <section id="global-members-section">
                <h2>全局參與人員設定</h2>
                <div id="global-members-container">
                    <!-- 人員和錢包輸入將在此處動態生成 -->
                    <div class="member-input-group">
                        <label>人員:</label>
                        <input type="text" class="member-name-input" placeholder="例如: PlayerA">
                        <label>錢包:</label>
                        <input type="text" class="member-wallet-input" placeholder="例如: 0xabc...xyz">
                        <button class="remove-member-input">移除</button>
                    </div>
                </div>
                <button id="add-member-button">新增人員</button>
            </section>

            <section id="boss-allocation-section">
                <h2>BOSS 道具分配</h2>
                <div id="boss-groups-container">
                    <!-- BOSS 分配區塊將在此處動態生成 -->
                </div>
                <button id="add-boss-group">新增 BOSS 分配區塊</button>
                <!-- 計算按鈕：觸發分帳計算 -->
                <button id="calculate-button">計算分帳</button>
            </section>
        </div>

        <section id="result-display">
            <h2>分帳結果</h2>
            <table id="result-table">
                <thead>
                    <tr>
                        <th>支付方</th>
                        <th>接收方</th>
                        <th>金額</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- 結果將在此處顯示 -->
                </tbody>
            </table>
            <h3>分享連結</h3>
            <textarea id="share-link" rows="3" readonly></textarea>
            <button id="copy-share-link">複製分享連結</button>
        </section>
    </div>

    <!-- Toast 容器（狀態提示） -->
    <div id="toast-container" aria-live="polite" aria-atomic="true"></div>

    <script src="script.js"></script>
</body>
</html>